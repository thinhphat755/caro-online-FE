[{"D:\\CaroOnline\\src\\front-end\\src\\index.js":"1","D:\\CaroOnline\\src\\front-end\\src\\App.js":"2","D:\\CaroOnline\\src\\front-end\\src\\components\\demoRealtime.js":"3","D:\\CaroOnline\\src\\front-end\\src\\components\\Login\\index.js":"4","D:\\CaroOnline\\src\\front-end\\src\\components\\Home\\index.js":"5","D:\\CaroOnline\\src\\front-end\\src\\components\\Register\\index.js":"6","D:\\CaroOnline\\src\\front-end\\src\\components\\Board\\index.js":"7","D:\\CaroOnline\\src\\front-end\\src\\components\\Board\\square.js":"8","D:\\CaroOnline\\src\\front-end\\src\\components\\Board\\chat.js":"9","D:\\CaroOnline\\src\\front-end\\src\\api\\userApi.js":"10","D:\\CaroOnline\\src\\front-end\\src\\api\\axiosClient.js":"11","D:\\CaroOnline\\src\\front-end\\src\\webSocketClient.js":"12","D:\\CaroOnline\\src\\front-end\\src\\components\\CheckMail\\index.js":"13","D:\\CaroOnline\\src\\front-end\\src\\components\\MailValidate\\index.js":"14"},{"size":256,"mtime":1608290034436,"results":"15","hashOfConfig":"16"},{"size":7188,"mtime":1608394987024,"results":"17","hashOfConfig":"16"},{"size":2850,"mtime":1607523969386,"results":"18","hashOfConfig":"16"},{"size":3873,"mtime":1608398543785,"results":"19","hashOfConfig":"16"},{"size":6940,"mtime":1608397955357,"results":"20","hashOfConfig":"16"},{"size":4526,"mtime":1608394987040,"results":"21","hashOfConfig":"16"},{"size":4114,"mtime":1608397142548,"results":"22","hashOfConfig":"16"},{"size":302,"mtime":1608282954454,"results":"23","hashOfConfig":"16"},{"size":2898,"mtime":1608404973147,"results":"24","hashOfConfig":"16"},{"size":2600,"mtime":1608397530072,"results":"25","hashOfConfig":"16"},{"size":1023,"mtime":1608282954373,"results":"26","hashOfConfig":"16"},{"size":1285,"mtime":1608297276036,"results":"27","hashOfConfig":"16"},{"size":765,"mtime":1608374402715,"results":"28","hashOfConfig":"16"},{"size":1789,"mtime":1608394987039,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"112nzf5",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"32"},"D:\\CaroOnline\\src\\front-end\\src\\index.js",[],["62","63"],"D:\\CaroOnline\\src\\front-end\\src\\App.js",[],"D:\\CaroOnline\\src\\front-end\\src\\components\\demoRealtime.js",["64","65"],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n// WEBSOCKET CLIENT SIDE\r\nconst ws = (() => {\r\n    // private\r\n    // singleton instance\r\n    let ws = undefined;\r\n    let lazyUpdate = {};\r\n\r\n    // public\r\n    function createConnection(userId, callback) {\r\n        destroyConnection();\r\n        ws = new WebSocket(\"ws://localhost:3001?userId=\" + userId);\r\n        ws.addEventListener(\"message\", ({ data: message }) => {\r\n            let topicName = message.split(\">>>\")[0];\r\n            if (lazyUpdate[topicName] > 0)\r\n                lazyUpdate[topicName] -= 1;\r\n            else\r\n                callback();\r\n        });\r\n    }\r\n\r\n    function destroyConnection() {\r\n        if (ws)\r\n            ws.close();\r\n        ws = undefined;\r\n    }\r\n\r\n    function notifyChange(topicName) {\r\n        ws.send(`${topicName}>>>changed`);\r\n        lazyUpdate[topicName] = (lazyUpdate[topicName] | 0) + 1;\r\n    }\r\n\r\n    return {\r\n        createConnection,\r\n        destroyConnection,\r\n        notifyChange\r\n    }\r\n})();\r\n\r\n// API\r\nasync function getActiveUsers() {\r\n    let response = await fetch('http://localhost:3001/active-users');\r\n    response = await response.json();\r\n    return response;\r\n}\r\n\r\n// HELPERS\r\nfunction refreshConnection(e, userId, setActiveUsers) {\r\n    if (e.charCode != 13)\r\n        return;\r\n    // when user press enter\r\n    // renew connection with new userId\r\n    ws.createConnection(userId,async ()=>{\r\n        // load list of active users\r\n        let activeUsers = await getActiveUsers();\r\n        setActiveUsers(activeUsers);\r\n    });\r\n}\r\n\r\nexport default function DemoRealtime(props) {\r\n    const [activeUsers, setActiveUsers] = useState([]);\r\n    const [userId, setUserId] = useState('');\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n         \r\n        // if the user is not authorized, redirect to login page\r\n        if (!token) { // TODO\r\n            history.push('/signin');\r\n            return;\r\n        }\r\n\r\n        (async () => {\r\n            // load list of active users\r\n            let activeUsers = await getActiveUsers();\r\n            setActiveUsers(activeUsers);\r\n        })();\r\n    }, []);\r\n\r\n    let listItems=[];\r\n    for (let userId in activeUsers) {\r\n        listItems.push(\r\n            <li key={userId}>\r\n                {userId}\r\n            </li>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>User id:</p>\r\n            <input\r\n                type=\"text\"\r\n                onChange={e => setUserId(e.target.value)}\r\n                onKeyPress={e => refreshConnection(e, userId, setActiveUsers)}\r\n            ></input>\r\n            <hr/>\r\n            <p>Active users:</p>\r\n            <ul>\r\n                {listItems}\r\n            </ul>\r\n        </div>\r\n    );\r\n}",["66","67"],"D:\\CaroOnline\\src\\front-end\\src\\components\\Login\\index.js",["68","69"],"D:\\CaroOnline\\src\\front-end\\src\\components\\Home\\index.js",["70","71","72","73","74"],"D:\\CaroOnline\\src\\front-end\\src\\components\\Register\\index.js",[],"D:\\CaroOnline\\src\\front-end\\src\\components\\Board\\index.js",["75","76"],"D:\\CaroOnline\\src\\front-end\\src\\components\\Board\\square.js",[],"D:\\CaroOnline\\src\\front-end\\src\\components\\Board\\chat.js",["77","78","79"],"D:\\CaroOnline\\src\\front-end\\src\\api\\userApi.js",["80"],"D:\\CaroOnline\\src\\front-end\\src\\api\\axiosClient.js",[],"D:\\CaroOnline\\src\\front-end\\src\\webSocketClient.js",[],"D:\\CaroOnline\\src\\front-end\\src\\components\\CheckMail\\index.js",["81","82"],"D:\\CaroOnline\\src\\front-end\\src\\components\\MailValidate\\index.js",["83","84","85"],"import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport api from '../../api/userApi';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        height: '500px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    notification: {\r\n        fontSize: '2.5vw',\r\n        textAlign: 'center'\r\n    },\r\n    loading: {\r\n        width: '1em',\r\n        height: '1em',\r\n        display: 'inline-block',\r\n        textAlign: 'left'\r\n    }\r\n}));\r\n\r\nexport default function MailValidate(props) {\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = useState('...');\r\n    const history = useHistory();\r\n\r\n    // update loading\r\n    setTimeout(() => {\r\n        if (loading.length < 3) {\r\n            setLoading(loading + '.');\r\n        } else {\r\n            setLoading('');\r\n        }\r\n    }, 200);\r\n\r\n    useEffect(async () => {\r\n        // get username from url\r\n        let username = (new URL(document.location)).searchParams.get('username');\r\n        // call api for validation\r\n        // api.validate(username);\r\n        await api.validate(username);\r\n        //delete all local storages on App\r\n        localStorage.setItem(\"username\", \"\");\r\n        localStorage.setItem(\"loginStatus\", \"false\");\r\n        localStorage.setItem(\"token\", \"\");\r\n        setTimeout(() => history.push('/signin'), 5000);\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.notification}>\r\n                <b>Almost done!</b>\r\n                <br />\r\n                Wait for a moment <div className={classes.loading}>{loading}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}",{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":51,"column":20,"nodeType":"92","messageId":"93","endLine":51,"endColumn":22},{"ruleId":"94","severity":1,"message":"95","line":81,"column":8,"nodeType":"96","endLine":81,"endColumn":10,"suggestions":"97"},{"ruleId":"86","replacedBy":"98"},{"ruleId":"88","replacedBy":"99"},{"ruleId":"94","severity":1,"message":"100","line":40,"column":8,"nodeType":"96","endLine":40,"endColumn":10,"suggestions":"101"},{"ruleId":"90","severity":1,"message":"102","line":55,"column":34,"nodeType":"92","messageId":"93","endLine":55,"endColumn":36},{"ruleId":"94","severity":1,"message":"95","line":104,"column":8,"nodeType":"96","endLine":104,"endColumn":10,"suggestions":"103"},{"ruleId":"90","severity":1,"message":"91","line":132,"column":31,"nodeType":"92","messageId":"93","endLine":132,"endColumn":33},{"ruleId":"90","severity":1,"message":"91","line":132,"column":84,"nodeType":"92","messageId":"93","endLine":132,"endColumn":86},{"ruleId":"90","severity":1,"message":"91","line":135,"column":31,"nodeType":"92","messageId":"93","endLine":135,"endColumn":33},{"ruleId":"90","severity":1,"message":"91","line":135,"column":84,"nodeType":"92","messageId":"93","endLine":135,"endColumn":86},{"ruleId":"104","severity":1,"message":"105","line":52,"column":11,"nodeType":"106","messageId":"107","endLine":52,"endColumn":18},{"ruleId":"94","severity":1,"message":"108","line":90,"column":8,"nodeType":"96","endLine":90,"endColumn":10,"suggestions":"109"},{"ruleId":"104","severity":1,"message":"110","line":1,"column":17,"nodeType":"106","messageId":"107","endLine":1,"endColumn":26},{"ruleId":"90","severity":1,"message":"102","line":14,"column":29,"nodeType":"92","messageId":"93","endLine":14,"endColumn":31},{"ruleId":"90","severity":1,"message":"102","line":73,"column":46,"nodeType":"92","messageId":"93","endLine":73,"endColumn":48},{"ruleId":"90","severity":1,"message":"102","line":47,"column":35,"nodeType":"92","messageId":"93","endLine":47,"endColumn":37},{"ruleId":"104","severity":1,"message":"111","line":1,"column":17,"nodeType":"106","messageId":"107","endLine":1,"endColumn":25},{"ruleId":"104","severity":1,"message":"110","line":1,"column":27,"nodeType":"106","messageId":"107","endLine":1,"endColumn":36},{"ruleId":"104","severity":1,"message":"112","line":4,"column":8,"nodeType":"106","messageId":"107","endLine":4,"endColumn":11},{"ruleId":"104","severity":1,"message":"113","line":41,"column":13,"nodeType":"106","messageId":"107","endLine":41,"endColumn":21},{"ruleId":"94","severity":1,"message":"95","line":45,"column":7,"nodeType":"96","endLine":45,"endColumn":9,"suggestions":"114"},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["117"],["115"],["116"],"React Hook useEffect has missing dependencies: 'history' and 'token'. Either include them or remove the dependency array.",["118"],"Expected '===' and instead saw '=='.",["119"],"no-unused-vars","'classes' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'boardId' and 'history'. Either include them or remove the dependency array.",["120"],"'useEffect' is defined but never used.","'useState' is defined but never used.","'api' is defined but never used.","'username' is assigned a value but never used.",["121"],"no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"122","fix":"126"},{"desc":"127","fix":"128"},{"desc":"122","fix":"129"},"Update the dependencies array to be: [history]",{"range":"130","text":"131"},"Update the dependencies array to be: [history, token]",{"range":"132","text":"133"},{"range":"134","text":"131"},"Update the dependencies array to be: [boardId, history]",{"range":"135","text":"136"},{"range":"137","text":"131"},[2245,2247],"[history]",[1199,1201],"[history, token]",[2487,2489],[2740,2742],"[boardId, history]",[1224,1226]]